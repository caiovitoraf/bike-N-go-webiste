<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bike N' Go - Login</title>
    <link rel="stylesheet" href="./css/style.css" />
</head>
<body>

<header class="header">
    <div class="header-logo">
        <a href="index.html">
            <img src="./img/LogoName.svg" alt="Logo Bike N' Go" class="logo-img" />
        </a>
    </div>
    <nav class="header-nav">
        <a href="#" id="theme-switcher" class="nav-icon" title="Mudar Tema">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#eb4b98"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
                <path d="M16.418 4.157a8 8 0 0 0 0 15.686" />
                <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
            </svg>
        </a>
        <a href="vendas.html" class="nav-icon">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#eb4b98"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
                <path d="M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
                <path d="M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" />
                <path d="M17 17h-11v-14h-2" />
                <path d="M6 5l14 1l-1 7h-13" />
            </svg>
        </a>
        <a href="login.html" class="nav-icon">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#eb4b98"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
                <path d="M9 8v-2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-2" />
                <path d="M3 12h13l-3 -3" />
                <path d="M13 15l3 -3" />
            </svg>
        </a>
        <a href="faq.html" class="nav-icon">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#eb4b98"
                stroke-width="2.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
                <path d="M19.875 6.27c.7 .398 1.13 1.143 1.125 1.948v7.284c0 .809 -.443 1.555 -1.158 1.948l-6.75 4.27a2.269 2.269 0 0 1 -2.184 0l-6.75 -4.27a2.225 2.225 0 0 1 -1.158 -1.948v-7.285c0 -.809 .443 -1.554 1.158 -1.947l6.75 -3.98a2.33 2.33 0 0 1 2.25 0l6.75 3.98h-.033z" />
                <path d="M12 16v.01" />
                <path d="M12 13a2 2 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483" />
            </svg>
        </a>
    </nav>
</header>

<main class="main-content">

    <div class="login-container">
        <a href="index.html" class="login-logo-link">
            <img src="./img/LogoName.svg" alt="Logo Bike N' Go" class="login-logo" />
        </a>
        
        <h2>Acesse sua Conta</h2>

        <form id="login-form" action="#" method="POST">
            <div class="input-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="seuemail@exemplo.com" required>
            </div>
            
            <div class="input-group">
                <label for="password">Senha</label>
                <input type="password" id="password" name="password" placeholder="Sua senha" required>
            </div>

            <div class="form-options">
                <div class="remember-me">
                    <input type="checkbox" id="remember" name="remember">
                    <label for="remember">Lembrar-me</label>
                </div>
                <a href="#">Esqueci minha senha</a>
            </div>
            
            <div id="login-error" class="error-message"></div>
            
            <button type="submit" class="btn btn-primary">Entrar</button>
        </form>

        <div class="signup-link">
            <p>Não tem uma conta? <a href="cadastro.html">Cadastre-se</a></p>
        </div>
    </div>

    <div id="logged-in-message" class="logged-in-container">
        <h2><span class="check-icon">✓</span> Login bem-sucedido!</h2>
        <p>Bem-vindo(a) de volta à Bike N' Go.</p>
        <a href="index.html" class="btn btn-primary">Página Inicial</a>
    </div>

</main>

<footer class="footer">
    <div class="footer-content">
        <p>&copy; 2025 Bike N' Go. Todos os direitos reservados.</p>
        <div class="footer-social-links">
            <a href="#"><img src="./img/facebook-icon.svg" alt="Facebook" /></a>
            <a href="#"><img src="./img/instagram-icon.svg" alt="Instagram" /></a>
            <a href="#"><img src="./img/twitter-icon.svg" alt="Twitter" /></a>
        </div>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loginContainer = document.querySelector('.login-container');
        const loggedInMessage = document.getElementById('logged-in-message');
        const loginForm = document.getElementById('login-form');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const loginError = document.getElementById('login-error');

        // 1. VERIFICA SE O USUÁRIO JÁ ESTÁ LOGADO AO CARREGAR A PÁGINA
        if (sessionStorage.getItem('isLoggedIn') === 'true') {
            loginContainer.style.display = 'none';
            loggedInMessage.style.display = 'flex';
        }

        // 2. ADICIONA O EVENTO DE SUBMISSÃO AO FORMULÁRIO DE LOGIN
        if (loginForm) {
            loginForm.addEventListener('submit', (event) => {
                event.preventDefault();
                loginError.style.display = 'none';
                loginError.textContent = '';

                const storedEmail = sessionStorage.getItem('userEmail');
                const storedPassword = sessionStorage.getItem('userPassword');

                const enteredEmail = emailInput.value;
                const enteredPassword = passwordInput.value;

                // 3. COMPARAÇÃO ROBUSTA
                // O login só é bem-sucedido se os dados existem na sessão E são iguais aos digitados.
                if (storedEmail && enteredEmail === storedEmail && storedPassword && enteredPassword === storedPassword) {
                    
                    // Se tudo bater, marca como logado e mostra a mensagem de sucesso
                    sessionStorage.setItem('isLoggedIn', 'true');
                    
                    loginContainer.style.display = 'none';
                    loggedInMessage.style.display = 'flex';

                } else {
                    // Para QUALQUER outro caso (usuário não existe, senha errada, etc.), mostra erro.
                    loginError.textContent = 'Email ou senha incorretos. Tente novamente.';
                    loginError.style.display = 'block';
                }
            });
        }
    });
</script>

<script src="./js/theme-switcher.js"></script>

</body>
</html>